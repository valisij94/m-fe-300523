## Практическое занятие №3

### Тема: React.js. Работа с библиотекой redux-toolkit. Redux State management

Репозитарий содержит материалы по практическому занятию №3, посвященному работе с библиотекой Redux Toolkit.

### Цели занятия
- закрепление знаний, полученных на лекции;
- разбор практических примеров;
- практическое применение полученных знаний.

### Задачи занятия
1. На прошлом занятии, мы работали с обычным redux. Попробуем теперь поработать с redux-toolkit. Из проекта убрано большинство того, что было сделано по редаксу на прошлом занятии. Нужно добавить редакс в приложение, с использованием redux-toolkit. То есть, нужно в файле redux/store.js заменить устаревшее использование `createStore` на `configureStore`, который следует импортировать из redux-toolkit. В роли редьюсера пока что передадим пустой объект.
2. Пишем слайс (срез) состояния, которое будет работать с данными пользователя. Создадим в папке `redux` папку `slices`, и создадим в ней файл `userSlice.js`. Здесь нам предстоит разместить срез состояния по работе с пользователем. Начальным состоянием будет объект со свойствами `name` (имя пользователя), и `username` - логин пользователя, их нужно инициализировать пустыми строками.
3. Определяем экшны, теперь мы их определяем прямо в срезе, и можем мутировать стейт. Нужно определить 2 экшна: `setName`, `setUserName`. В payload, они будут принимать соответственно имя и логин пользователя, и нужно их записать в стейт.
4. Теперь воспользуемся этим. В компоненте `RegisterPage`, нужно на событие клика на кнопку "Войти", сохранять данные в редакс-стейте. Для этого, нам поможет хук `useDispatch`. И извлечем эти данные из стейта. В компонент `Home`, добавим параграф, который будет выводить на экране (над кнопками), текст приветствия. Если у нас в стейте есть данные пользователя - то выводим "Добро пожаловать, ИМЯ", а иначе - "Приветствуем тебя, незнакомец".
5. Расширяем стейт, работаем с постами. Нам нужно создать еще 2 компонента: `PostItem` (лдя рендеринга поста), и `PostsPage` - страницу, которая будет рендерить список постов. У поста есть заголовок и тело (head, title). Рендерим их тегами `h2`, `p` соответственно.
6. Добавим запрос постов с адреса `https://jsonplaceholder.typicode.com/posts`. Этот запрос нужно выполнять при монтировании компонента `PostsPage`, и рендерить результат.
7. Теперь, перенесем наши посты в стейт. Нужно добавить срез состояния, который будет отвечать за посты (`posts`). Нужно добавить экшн: `addPosts`, который мы вызовем тогда, когда наши посты загрузятся с бэка.
8. Усложняем часть стейта, которая отвечает за посты. Теперь она должна еще содержать флаг, идет ли загрузка постов. Пусть это будет флаг `isFetching`. И нужно создать соответствующие экшны для него (тут стоит подумать, как их лучше организовать). Также, добавим `errorMessage` в стейт - на случай, если при загрузке постов произошла ошибка.

### Полезные ссылки по занятию:
 - [Redux Toolkit Quick Start](https://ru.react-redux.js.org/tutorials/quick-start/) - официальная русскоязычная(!) документация. Это действительно отличный быстрый старт.
 - [Описание React Toolkit](https://reactdev.ru/libs/redux-toolkit/) - русскоязычные, это тоже оф.документация. Много не особо существенных для старта деталей, но нормально описывает те места, которые рассматривались на лекции.
 - [О работе редакс под капотом](https://ivaneroshkin.medium.com/%D0%BA%D0%B0%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82-redux-a967d8616398) - это для глубокого понимания, как работает редакс, и для демонстрации того, что он НЕ зависит от реакта, и может использоваться в plain JS code.